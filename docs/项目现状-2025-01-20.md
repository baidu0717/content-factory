# 内容工厂 - 项目现状说明

**日期**: 2025-01-20
**版本**: v2.0
**提交**: acc640d

---

## 一、项目概述

内容工厂是一个智能内容采集、改写和多平台发布的系统，专注于小红书笔记的采集、改写和发布工作流。

### 主要能力
1. ✅ 小红书笔记采集（标题、正文、图片、标签）
2. ✅ 飞书多维表格存储
3. ✅ 本地数据库记录管理
4. ✅ AI内容改写（Gemini）
5. ✅ 小红书笔记发布（MyAIBot）
6. ✅ 图片处理（原图/压缩模式）

---

## 二、核心功能清单

### 2.1 小红书笔记采集系统

**页面**: `/xiaohongshu-extract`

**功能**:
- 输入小红书笔记URL自动解析
- 提取标题、正文、图片（最多18张）、话题标签
- 保存到飞书多维表格
- 同时保存到本地数据库（feishu_notes表）
- 历史记录管理
- 笔记记录列表（右侧Tab）

**API端点**:
- `GET https://api.meowload.net/openapi/extract/post` - 笔记解析
- API Key: `341289-ql9bvro52phb`

### 2.2 飞书笔记记录系统（新增）

**数据表**: `feishu_notes`

**字段**:
```sql
id                INTEGER PRIMARY KEY
title             TEXT NOT NULL          -- 标题
content           TEXT NOT NULL          -- 正文
url               TEXT NOT NULL          -- 原始URL
tags              TEXT                   -- 话题标签（JSON）
images            TEXT                   -- 图片URL数组（JSON）
rewrite_status    TEXT DEFAULT 'pending' -- 状态：pending/done/skip
created_at        INTEGER NOT NULL       -- 创建时间戳
rewritten_at      INTEGER                -- 复刻完成时间
article_id        INTEGER                -- 关联的文章ID
```

**API端点**:
- `POST /api/feishu-notes` - 保存新笔记
- `GET /api/feishu-notes?status=pending&limit=50` - 查询笔记列表
- `PATCH /api/feishu-notes/:id` - 更新笔记状态
- `DELETE /api/feishu-notes/:id` - 删除笔记

**索引**:
- `idx_feishu_notes_created_at` - 按创建时间查询优化
- `idx_feishu_notes_status` - 按状态筛选优化

### 2.3 内容改写系统

**AI模型**: Google Gemini
**模型名称**: `gemini-3-pro-preview`

**功能**:
- 标题改写（保持主题，创意表达）
- 正文改写（保持观点，全新结构）
- 自定义改写提示词
- 支持HTTP代理访问

**API端点**:
- `POST /api/xiaohongshu/rewrite`
  - 请求: `{ title, content, titlePrompt, contentPrompt }`
  - 响应: `{ title: "新标题", content: "新正文" }`

**依赖**:
- `@google/genai` SDK
- `undici` (代理支持)

### 2.4 小红书发布系统

**API服务**: MyAIBot
**API端点**: `https://www.myaibot.vip/api/rednote/publish`

**请求格式**:
```json
{
  "api_key": "rn_95b1c43fa86396bbb84b2a1c86863d7303c6d40cc217e69ea7133296cff2",
  "type": "normal",
  "title": "笔记标题",
  "content": "笔记正文（纯文本）",
  "images": ["图片URL数组，最多18张"]
}
```

**响应格式**:
```json
{
  "success": true,
  "data": {
    "qrCodeUrl": "https://二维码页面URL",
    "publishUrl": "https://小红书笔记URL（可选）"
  }
}
```

**发布流程**:
1. 用户点击"发布到小红书"
2. 系统调用MyAIBot API创建笔记草稿
3. 返回二维码页面URL（iframe显示）
4. 用户使用小红书APP扫码完成发布

**替代方案**（免费）:
- 点击"复制文章内容"按钮
- 访问 https://note.limyai.com 手动发布

### 2.5 图片处理系统

**功能**:
- 原图上传模式（不压缩，保持100%质量）
- 压缩上传模式（4096px，质量95%）
- 支持 JPG、PNG、GIF
- 最大文件大小：20MB（原图）/ 10MB（压缩）

**工具函数** (`lib/imageUtils.ts`):
```typescript
uploadOriginalImage(file: File): Promise<string>  // 原图模式
compressImage(file: File, maxSize?: number, quality?: number): Promise<string>  // 压缩模式
```

**组件**:
- `ImageUploader` - 支持 `useOriginal={true}` 参数

---

## 三、技术架构

### 3.1 技术栈

**前端**:
- Next.js 15.2.1
- React 19.2.1
- TypeScript
- Tailwind CSS
- Framer Motion (动画)
- Recharts (图表)

**后端**:
- Next.js API Routes
- Better-SQLite3 (本地数据库)
- Node-Cron (定时任务)

**AI服务**:
- Google Gemini API (内容改写)
- MyAIBot API (小红书发布)

**第三方服务**:
- 飞书开放平台 (多维表格)
- Vercel KV (token存储)
- Meowload API (小红书解析)

### 3.2 数据流

```
小红书URL
    ↓
[解析API] → 提取内容（标题、正文、图片、标签）
    ↓
┌───────────────────────────┐
│ 保存到飞书多维表格         │
│ + 保存到本地数据库         │
│   (feishu_notes表)        │
└───────────────────────────┘
    ↓
右侧"笔记记录"Tab显示
    ↓
点击"加载"→ 加载到编辑器
    ↓
[可选] 点击"复刻"→ Gemini改写
    ↓
保存为新文章 (articles表)
    ↓
点击"发布到小红书"
    ↓
[MyAIBot API] → 生成二维码
    ↓
用户扫码完成发布
```

### 3.3 数据库结构

**核心表**:

1. **articles** - 文章主表
   - 存储标题、内容、图片、标签
   - 发布状态、平台信息
   - 统计数据、错误信息

2. **feishu_notes** - 飞书笔记记录（新增）
   - 存储从飞书采集的笔记
   - 复刻状态管理
   - 关联articles表

3. **monitored_keywords** - 监控关键词
   - 定时任务相关

---

## 四、API端点完整清单

### 4.1 小红书相关

| 方法 | 端点 | 功能 | 状态 |
|------|------|------|------|
| POST | `/api/xiaohongshu/publish` | 发布到小红书 | ✅ 可用 |
| POST | `/api/xiaohongshu/rewrite` | AI改写内容 | ✅ 可用 |
| POST | `/api/xiaohongshu/quick-save` | 快捷保存（iOS） | ✅ 可用 |

### 4.2 飞书笔记记录

| 方法 | 端点 | 功能 | 状态 |
|------|------|------|------|
| POST | `/api/feishu-notes` | 保存新笔记 | ✅ 可用 |
| GET | `/api/feishu-notes` | 查询笔记列表 | ✅ 可用 |
| PATCH | `/api/feishu-notes/:id` | 更新笔记状态 | ✅ 可用 |
| DELETE | `/api/feishu-notes/:id` | 删除笔记 | ✅ 可用 |

### 4.3 文章管理

| 方法 | 端点 | 功能 | 状态 |
|------|------|------|------|
| GET | `/api/articles` | 查询文章列表 | ✅ 可用 |
| POST | `/api/articles` | 创建新文章 | ✅ 可用 |
| GET | `/api/articles/:id` | 获取文章详情 | ✅ 可用 |
| PUT | `/api/articles/:id` | 更新文章 | ✅ 可用 |
| DELETE | `/api/articles/:id` | 删除文章 | ✅ 可用 |

### 4.4 飞书认证

| 方法 | 端点 | 功能 | 状态 |
|------|------|------|------|
| GET | `/api/auth/login` | 飞书OAuth登录 | ✅ 可用 |
| GET | `/api/auth/callback` | OAuth回调 | ✅ 可用 |
| GET | `/api/auth/status` | 检查登录状态 | ✅ 可用 |

---

## 五、环境变量配置

### 5.1 必需配置

```bash
# ==================== AI服务 ====================
# Gemini API（内容改写）
GEMINI_TEXT_API_KEY=AIzaSy***已隐藏***（从环境变量获取）
GEMINI_TEXT_MODEL=gemini-3-pro-preview

# 代理配置（访问Gemini API）
HTTP_PROXY=http://127.0.0.1:7897
HTTPS_PROXY=http://127.0.0.1:7897

# ==================== 小红书发布 ====================
# MyAIBot API（正在使用）
MYAIBOT_API_KEY=rn_95b1c43fa86396bbb84b2a1c86863d7303c6d40cc217e69ea7133296cff2

# 旧版API（已停用）
XIAOHONGSHU_API_KEY=xhs_d653b4a09b5c6de9562287c26d0905d62af3bb29c980cba39c53cecfd1052ba0
XIAOHONGSHU_API_BASE=https://note.limyai.com/api/openapi

# ==================== 小红书采集 ====================
# 笔记详情API
NEXT_PUBLIC_XIAOHONGSHU_DETAIL_API_KEY=341289-ql9bvro52phb
NEXT_PUBLIC_XIAOHONGSHU_DETAIL_API_BASE=https://api.meowload.net/openapi/extract/post

# 搜索API
NEXT_PUBLIC_XIAOHONGSHU_SEARCH_API_KEY=JZL1b7f46d7a6b92240
NEXT_PUBLIC_XIAOHONGSHU_SEARCH_API_BASE=https://www.dajiala.com/fbmain/monitor/v3/xhs

# ==================== 飞书多维表格 ====================
# 飞书应用凭证
FEISHU_APP_ID=cli_a9bac6be07789cc4
FEISHU_APP_SECRET=kqcP7odJy9x0AhtNMR5FYg4KPXs5lwRJ

# 飞书OAuth（访问用户表格）
FEISHU_REFRESH_TOKEN=ur-eXY9DxjJ55Irn0rDlBh7sz115gM0lgUpo82aVQk00Cjt

# 默认表格配置
FEISHU_DEFAULT_APP_TOKEN=NNd8bJYazaBwHAsZ2z2cqsvmnqf
FEISHU_DEFAULT_TABLE_ID=tblu1m2GPcFRNSPE

# Vercel KV（token存储）
STORAGE_REST_API_URL=（需要配置）
STORAGE_REST_API_TOKEN=（需要配置）
```

### 5.2 可选配置

```bash
# OpenAI API（备用改写方案）
OPENAI_API_KEY=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
OPENAI_API_BASE=https://openrouter.ai/api/v1
OPENAI_MODEL=openai/gpt-4o

# 微信公众号发布（暂未使用）
WECHAT_API_KEY=
WECHAT_API_BASE=https://wx.limyai.com/api/openapi

# 飞书Webhook（定时任务推送）
FEISHU_WEBHOOK_URL=https://open.feishu.cn/open-apis/bot/v2/hook/2af62f19-8cc3-43e0-b783-f9b2e9ca1acc

# 定时任务配置
CRON_SCHEDULE=0 8 * * *
TIMEZONE=Asia/Shanghai

# 应用部署URL
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

---

## 六、文件结构

```
/Users/baidu/Desktop/第四次直播代码/
├── app/
│   ├── api/
│   │   ├── articles/           # 文章管理API
│   │   │   ├── route.ts        # GET/POST 文章列表
│   │   │   └── [id]/route.ts   # GET/PUT/DELETE 单篇文章
│   │   ├── feishu-notes/       # 飞书笔记记录API（新增）
│   │   │   ├── route.ts        # GET/POST 笔记列表
│   │   │   └── [id]/route.ts   # PATCH/DELETE 单条笔记
│   │   ├── xiaohongshu/
│   │   │   ├── publish/route.ts    # 发布到小红书
│   │   │   ├── rewrite/route.ts    # AI改写
│   │   │   └── quick-save/route.ts # iOS快捷指令
│   │   ├── auth/               # 飞书OAuth
│   │   └── test/               # 测试端点
│   ├── publish/                # 发布管理页面
│   ├── xiaohongshu-extract/    # 小红书采集页面
│   └── ...
├── components/
│   ├── ArticleEditModal.tsx           # 文章编辑弹窗
│   ├── ArticlePreviewModal.tsx        # 文章预览弹窗
│   ├── ImageUploader.tsx              # 图片上传组件
│   ├── XiaohongshuPublishModal.tsx    # 小红书发布弹窗
│   └── ...
├── lib/
│   ├── db.ts                   # SQLite数据库
│   ├── feishuAuth.ts           # 飞书认证和API
│   ├── imageUtils.ts           # 图片处理工具
│   ├── markdown-utils.ts       # Markdown工具
│   └── ...
├── docs/
│   ├── 图片上传问题-进度记录.md      # 历史问题记录
│   └── 项目现状-2025-01-20.md        # 本文档
├── public/uploads/images/      # 测试图片（17张）
├── .env.local                  # 环境变量配置
├── package.json                # 依赖管理
└── data.db                     # SQLite数据库文件
```

---

## 七、完整工作流程

### 7.1 小红书笔记采集 → 改写 → 发布流程

```
步骤1：采集笔记
┌──────────────────────────────┐
│ 1. 访问 /xiaohongshu-extract │
│ 2. 输入小红书笔记URL          │
│ 3. 点击"解析笔记"             │
└──────────────────────────────┘
         ↓
┌──────────────────────────────┐
│ 系统自动：                    │
│ - 调用解析API提取内容         │
│ - 下载图片（最多18张）        │
│ - 提取标题、正文、标签        │
└──────────────────────────────┘
         ↓
步骤2：保存记录
┌──────────────────────────────┐
│ 点击"保存到飞书"              │
└──────────────────────────────┘
         ↓
┌──────────────────────────────┐
│ 系统自动：                    │
│ ✅ 保存到飞书多维表格         │
│ ✅ 保存到本地数据库           │
│   (feishu_notes表，状态=pending) │
└──────────────────────────────┘
         ↓
步骤3：查看记录
┌──────────────────────────────┐
│ 右侧切换到"笔记记录"Tab       │
│ 查看所有已保存的笔记          │
│ (按状态筛选: pending/done/skip) │
└──────────────────────────────┘
         ↓
步骤4：加载笔记
┌──────────────────────────────┐
│ 选择一条笔记                  │
│ 点击"加载"按钮                │
└──────────────────────────────┘
         ↓
┌──────────────────────────────┐
│ 笔记内容加载到编辑器          │
│ (标题、正文、图片、标签)      │
└──────────────────────────────┘
         ↓
步骤5：AI改写（可选）
┌──────────────────────────────┐
│ 点击"复刻"按钮                │
│ [可选] 自定义改写提示词       │
└──────────────────────────────┘
         ↓
┌──────────────────────────────┐
│ 系统调用 Gemini API：         │
│ - 改写标题                    │
│ - 改写正文                    │
│ - 保持核心观点                │
└──────────────────────────────┘
         ↓
┌──────────────────────────────┐
│ 显示改写结果                  │
│ 用户可手动编辑                │
└──────────────────────────────┘
         ↓
步骤6：保存文章
┌──────────────────────────────┐
│ 点击"保存为文章"              │
└──────────────────────────────┘
         ↓
┌──────────────────────────────┐
│ 系统自动：                    │
│ ✅ 保存到 articles 表         │
│ ✅ 更新笔记状态为 done        │
│ ✅ 记录 article_id 关联       │
└──────────────────────────────┘
         ↓
步骤7：发布到小红书
┌──────────────────────────────┐
│ 访问 /publish                 │
│ 找到刚保存的文章              │
│ 点击"发布到小红书"            │
└──────────────────────────────┘
         ↓
┌──────────────────────────────┐
│ 系统调用 MyAIBot API：        │
│ - 传递标题、正文、图片        │
│ - 创建小红书笔记草稿          │
│ - 返回二维码页面URL           │
└──────────────────────────────┘
         ↓
┌──────────────────────────────┐
│ 显示二维码页面（iframe）      │
│ 用户用小红书APP扫码           │
│ 在APP中完成发布               │
└──────────────────────────────┘
         ↓
完成！✅
```

### 7.2 替代流程（免费手动发布）

```
步骤1-6：同上
         ↓
步骤7：手动发布
┌──────────────────────────────┐
│ 在发布弹窗中：                │
│ 1. 点击"复制文章内容"         │
│ 2. 点击"打开发布网页"         │
└──────────────────────────────┘
         ↓
┌──────────────────────────────┐
│ 访问 note.limyai.com          │
│ 粘贴内容到网页                │
│ 手动上传图片                  │
│ 点击"小红书扫码发布"          │
└──────────────────────────────┘
         ↓
完成！✅（完全免费）
```

---

## 八、已知问题和限制

### 8.1 已解决的问题

✅ **飞书附件字段上传失败** (2025-01-20解决)
- 问题：无法获取file_token
- 解决：改用URL字段直接保存图片链接

✅ **tags字段JSON解析错误** (2025-01-20解决)
- 问题：tags为null时导致崩溃
- 解决：添加Array.isArray()安全检查

✅ **图片质量损失严重** (2025-01-20解决)
- 问题：压缩后图片质量太低
- 解决：提升压缩参数（4096px, 95%），新增原图模式

### 8.2 当前限制

⚠️ **MyAIBot API限制**
- 每次发布消耗积分
- 积分不足时需充值
- 替代方案：使用免费手动发布

⚠️ **图片数量限制**
- 最多18张图片
- 超过18张会自动截取前18张

⚠️ **Gemini API访问**
- 需要HTTP代理（代理地址：http://127.0.0.1:7897）
- 代理不可用时改写功能失效

⚠️ **飞书OAuth Token过期**
- refresh_token有效期90天
- 过期后需重新登录授权

### 8.3 待实现功能

🔲 **批量操作**
- 批量改写笔记
- 批量发布到小红书

🔲 **定时发布**
- 设置发布时间
- 定时任务自动发布

🔲 **数据统计**
- 笔记采集统计
- 发布成功率统计
- 改写效果分析

🔲 **多平台支持**
- 微信公众号发布（API已配置，功能未完善）
- 其他平台扩展

---

## 九、性能指标

### 9.1 数据库性能

- 文章表（articles）：查询速度 < 100ms（1000条记录）
- 笔记表（feishu_notes）：查询速度 < 50ms（索引优化）
- 总数据大小：约 10-50MB（取决于图片数量）

### 9.2 API响应时间

| API | 平均耗时 | 备注 |
|-----|---------|------|
| 小红书解析 | 2-5秒 | 取决于网络 |
| 飞书保存 | 500ms-1s | 取决于飞书API |
| Gemini改写 | 3-10秒 | 取决于内容长度 |
| MyAIBot发布 | 2-4秒 | 取决于图片数量 |

### 9.3 图片处理性能

- 原图模式：< 1秒（直接读取）
- 压缩模式：1-3秒（取决于原图大小）
- 并行处理：支持同时处理多张图片

---

## 十、安全性

### 10.1 API密钥管理

✅ **环境变量存储**
- 所有密钥存储在 `.env.local`
- 不提交到Git仓库（已加入.gitignore）

✅ **日志脱敏**
- API请求日志中隐藏密钥
- 示例：`api_key: '***已隐藏***'`

### 10.2 数据安全

✅ **本地数据库**
- SQLite文件存储在本地
- 定期备份建议

⚠️ **飞书数据**
- 存储在飞书云端
- 依赖飞书平台安全性

### 10.3 用户认证

✅ **飞书OAuth**
- 标准OAuth 2.0流程
- refresh_token自动刷新（Vercel KV存储）

---

## 十一、部署说明

### 11.1 开发环境

```bash
# 1. 安装依赖
npm install

# 2. 配置环境变量
cp .env.example .env.local
# 编辑 .env.local 填入密钥

# 3. 启动开发服务器
npm run dev

# 4. 访问
http://localhost:3000
```

### 11.2 生产部署（Vercel）

**前置条件**:
- Vercel账号
- GitHub仓库

**步骤**:
1. 连接GitHub仓库到Vercel
2. 配置环境变量（在Vercel Dashboard）
3. 部署

**注意事项**:
- ⚠️ Vercel Serverless环境可能不支持SQLite持久化
- 建议使用外部数据库（PostgreSQL/MySQL）
- 或使用Vercel KV存储替代

### 11.3 环境变量清单（部署必需）

复制以下内容到Vercel环境变量：

```
GEMINI_TEXT_API_KEY=...
GEMINI_TEXT_MODEL=gemini-3-pro-preview
HTTP_PROXY=...
HTTPS_PROXY=...
MYAIBOT_API_KEY=...
NEXT_PUBLIC_XIAOHONGSHU_DETAIL_API_KEY=...
NEXT_PUBLIC_XIAOHONGSHU_DETAIL_API_BASE=https://api.meowload.net/openapi/extract/post
FEISHU_APP_ID=...
FEISHU_APP_SECRET=...
FEISHU_REFRESH_TOKEN=...
FEISHU_DEFAULT_APP_TOKEN=...
FEISHU_DEFAULT_TABLE_ID=...
STORAGE_REST_API_URL=...
STORAGE_REST_API_TOKEN=...
```

---

## 十二、开发指南

### 12.1 添加新的API端点

示例：添加一个新的笔记导出功能

```typescript
// app/api/feishu-notes/export/route.ts
import { NextRequest, NextResponse } from 'next/server'
import { getDb } from '@/lib/db'

export async function GET(request: NextRequest) {
  const db = getDb()
  const notes = db.prepare('SELECT * FROM feishu_notes').all()

  return NextResponse.json({
    success: true,
    data: notes
  })
}
```

### 12.2 修改数据库表结构

```typescript
// lib/db.ts - initTables() 函数中添加

// 添加新字段（需要ALTER TABLE）
db.exec(`
  ALTER TABLE feishu_notes
  ADD COLUMN new_field TEXT
`)

// 创建新索引
db.exec(`
  CREATE INDEX IF NOT EXISTS idx_new_field
  ON feishu_notes(new_field)
`)
```

### 12.3 测试API

```bash
# 测试保存笔记
curl -X POST http://localhost:3000/api/feishu-notes \
  -H "Content-Type: application/json" \
  -d '{
    "title": "测试笔记",
    "content": "测试内容",
    "url": "https://xiaohongshu.com/test",
    "tags": "测试,笔记",
    "images": ["https://example.com/image.jpg"]
  }'

# 测试查询笔记
curl http://localhost:3000/api/feishu-notes?status=pending&limit=10

# 测试更新状态
curl -X PATCH http://localhost:3000/api/feishu-notes/1 \
  -H "Content-Type: application/json" \
  -d '{"rewrite_status": "done"}'
```

---

## 十三、故障排查

### 13.1 常见错误

**错误1: "MyAIBot API密钥未配置"**
```
解决：检查 .env.local 中是否有 MYAIBOT_API_KEY
```

**错误2: "积分不足"**
```
解决：
1. 访问 myaibot.vip 充值积分
2. 或使用免费手动发布方式
```

**错误3: "Gemini API调用失败"**
```
解决：
1. 检查HTTP_PROXY是否正确（http://127.0.0.1:7897）
2. 检查代理是否运行
3. 检查GEMINI_TEXT_API_KEY是否有效
```

**错误4: "飞书token过期"**
```
解决：
1. 访问 /api/auth/login 重新授权
2. 检查FEISHU_REFRESH_TOKEN是否正确
```

**错误5: "数据库锁定"**
```
解决：
1. 关闭其他访问数据库的进程
2. 重启开发服务器
3. 检查data.db文件权限
```

### 13.2 调试技巧

**1. 查看API日志**
```bash
# 开发模式下，所有API调用都会输出详细日志
npm run dev
# 观察终端输出
```

**2. 检查数据库内容**
```bash
# 使用SQLite命令行工具
sqlite3 data.db
> SELECT * FROM feishu_notes LIMIT 10;
> .exit
```

**3. 测试飞书连接**
```bash
curl http://localhost:3000/api/auth/status
```

---

## 十四、更新日志

### v2.0 (2025-01-20)

**新增功能**:
- ✨ 飞书笔记本地记录系统（feishu_notes表）
- ✨ 笔记状态管理（pending/done/skip）
- ✨ 小红书采集页面右侧Tab（历史记录/笔记记录）
- ✨ 从笔记记录加载到编辑器功能
- ✨ AI改写集成（Gemini）
- ✨ 图片原图上传模式
- ✨ MyAIBot API集成（小红书发布）

**改进**:
- 🔧 图片压缩参数优化（4096px, 95%质量）
- 🔧 tags字段安全解析（防止崩溃）
- 🔧 发布弹窗UI优化（详细引导）
- 🔧 数据库索引优化（性能提升）

**修复**:
- 🐛 修复tags为null导致的错误
- 🐛 修复图片质量损失严重问题

**技术更新**:
- 📦 新增依赖：qrcode.react@4.2.0
- 📦 新增依赖：@google/genai
- 📦 新增依赖：undici（代理支持）

---

## 十五、联系和支持

### 15.1 项目信息

- **项目路径**: `/Users/baidu/Desktop/第四次直播代码/`
- **Git仓库**: 本地仓库
- **最新提交**: acc640d

### 15.2 技术支持

**飞书开放平台**:
- 文档：https://open.feishu.cn/document/
- 工单：https://open.feishu.cn/support

**MyAIBot**:
- 官网：https://www.myaibot.vip
- （联系方式待补充）

**Gemini API**:
- 文档：https://ai.google.dev/docs

### 15.3 问题反馈

如遇到问题，请提供：
1. 错误截图或日志
2. 操作步骤
3. 环境信息（浏览器、系统版本）
4. 相关配置（脱敏后）

---

## 十六、总结

### 16.1 当前状态

✅ **核心功能完整**
- 小红书笔记采集 → 飞书存储 → 本地记录 → AI改写 → 发布

✅ **代码质量良好**
- TypeScript类型安全
- 错误处理完善
- 日志输出详细

✅ **用户体验优化**
- 界面美观（Tailwind CSS + Framer Motion）
- 操作流程清晰
- 错误提示友好

### 16.2 下一步计划

**短期（1-2周）**:
1. 测试完整工作流程
2. 修复测试中发现的bug
3. 优化性能瓶颈

**中期（1个月）**:
1. 实现批量操作功能
2. 添加数据统计面板
3. 完善定时发布功能

**长期（2-3个月）**:
1. 支持更多平台（微信公众号、抖音等）
2. 实现智能推荐（最佳发布时间）
3. 添加团队协作功能

---

**文档版本**: v1.0
**创建日期**: 2025-01-20
**最后更新**: 2025-01-20 18:45
**作者**: Claude Code

---

*这份文档完整记录了项目当前状态，包括所有功能、配置、流程和已知问题。建议定期更新此文档以保持同步。*
