# 小红书笔记图片上传和发布指南

## 📸 如何提供图片

### 方式1：在复刻页面直接上传（推荐）

**位置**：`https://content-factory-jade-nine.vercel.app/rewrite`

**操作步骤**：
1. 在"图片上传"区域点击或拖拽上传
2. 支持一次选择多张图片（最多18张）
3. 上传后可预览、删除、调整顺序
4. 图片会显示序号（1、2、3...）

**界面说明**：
```
┌─────────────────────────────┐
│  图片上传              0/18  │
├─────────────────────────────┤
│  [+] 点击或拖拽上传图片      │
│  最多18张，支持JPG、PNG      │
└─────────────────────────────┘
```

### 方式2：从本地文件夹选择

**推荐流程**：
1. 提前准备好图片，放在一个文件夹中
2. 在复刻页面点击"选择文件"
3. 按住 `Ctrl/Cmd` 多选图片
4. 点击"打开"完成上传

---

## 🖼️ 小红书图片要求

### 1. 图片数量
- ✅ **最少**：1张（封面图）
- ✅ **最多**：18张
- 📝 **建议**：3-9张效果最好

### 2. 图片比例（重要！）

**小红书支持3种比例**：

| 比例类型 | 比例 | 推荐尺寸 | 适用场景 |
|---------|------|---------|---------|
| **竖版**（推荐） | 3:4 | 1080×1440 | 大部分笔记，显示面积大 |
| 方形 | 1:1 | 1080×1080 | 产品展示、对比图 |
| 横版 | 4:3 | 1440×1080 | 风景照、横屏截图 |

**⚠️ 重要提醒**：
- 整篇笔记**只能使用一种比例**！
- 如果比例不一致，系统会自动加白边
- **竖版封面显示面积比横版多约40%**

### 3. 图片尺寸范围

**最小尺寸**：
- 宽度：640像素
- 高度：960像素

**最大尺寸**：
- 宽度：4000像素
- 高度：6000像素

**常用竖版尺寸**：
- 720×960
- 768×1024
- 960×1280
- **1080×1440**（推荐，最清晰）

### 4. 图片格式

**支持的格式**：
- ✅ JPG / JPEG（推荐）
- ✅ PNG
- ✅ WEBP（动图，800×800）

**不支持的格式**：
- ❌ GIF（会被转为静态图）
- ❌ BMP
- ❌ TIFF

### 5. 图片质量

- **文件大小**：建议每张 < 5MB
- **分辨率**：越高越好（在尺寸范围内）
- **清晰度**：避免模糊、像素化

---

## 📝 图片命名建议

虽然小红书**没有强制的命名规范**，但良好的命名习惯有助于管理：

### ❌ 不推荐的命名
```
IMG_0001.jpg
微信图片_20250206123456.jpg
屏幕截图 2025-02-06 下午3.45.12.png
```

### ✅ 推荐的命名

**方案1：按序号命名**
```
01-封面图.jpg
02-行程地图.jpg
03-景点照片.jpg
04-美食推荐.jpg
```

**方案2：按内容描述**
```
意大利五渔村-封面.jpg
意大利五渔村-海边风景.jpg
意大利五渔村-特色美食.jpg
意大利五渔村-避坑提醒.jpg
```

**方案3：混合方式（推荐）**
```
01-意大利五渔村封面.jpg
02-马纳罗拉村全景.jpg
03-里奥马焦雷港口.jpg
04-当地特色海鲜.jpg
```

### 命名原则

1. **使用英文或拼音**
   - ✅ `italy-cinque-terre-01.jpg`
   - ✅ `yidali-wuyucun-01.jpg`
   - ⚠️ 中文可以用，但某些系统可能不兼容

2. **避免特殊字符**
   - ✅ 使用：`-`（连字符）、`_`（下划线）、数字、字母
   - ❌ 避免：`@`、`#`、`&`、空格、中文标点

3. **保持一致性**
   - 同一组图片使用相同的命名规则
   - 便于后期管理和查找

4. **添加序号**
   - 用 `01`、`02` 而不是 `1`、`2`（保持排序）
   - 例：`01-cover.jpg`、`02-scenery.jpg`

---

## 🔄 当前发布流程

### 步骤1：上传图片到复刻页面
1. 访问 `/rewrite` 页面
2. 上传 1-18 张图片
3. 确认图片比例一致

### 步骤2：编辑文案
1. 改写标题（AI 或手动）
2. 改写正文（AI 或手动）
3. 添加话题标签

### 步骤3：预览笔记
1. 点击"预览笔记"按钮
2. 查看最终效果
3. 确认无误

### 步骤4：发布（需要完善）

**⚠️ 当前状态**：发布功能显示"开发中"

**原因**：复刻页面的发布功能需要先完善以下步骤：
1. 将文章保存到数据库
2. 上传图片到 Vercel Blob 存储
3. 调用小红书发布 API
4. 返回二维码供手机扫码发布

**临时方案**：
- 在复刻页面编辑好内容
- 复制标题和正文
- 下载准备好的图片
- 在小红书 App 手动发布

---

## 🛠️ 需要完善的功能

### 问题：复刻页面的发布功能未完成

**现有代码位置**：
- 前端：`app/rewrite/page.tsx:274-337`
- 后端：`app/api/xiaohongshu/publish/route.ts`

**缺少的步骤**：
```typescript
// TODO: app/rewrite/page.tsx:323
// 需要先创建文章记录，然后调用发布API
```

### 完善发布功能的步骤

**步骤1：添加保存到数据库的逻辑**
```typescript
// 调用 API 保存文章
const saveResponse = await fetch('/api/articles', {
  method: 'POST',
  body: JSON.stringify({
    title: editableTitle,
    content: editableContent,
    tags: editableTags.split(/\s+/),
    images: imageUrls
  })
})
const { articleId } = await saveResponse.json()
```

**步骤2：调用发布 API**
```typescript
const publishResponse = await fetch('/api/xiaohongshu/publish', {
  method: 'POST',
  body: JSON.stringify({ articleId })
})
```

**步骤3：显示二维码**
```typescript
const result = await publishResponse.json()
setPublishResult({
  qrCodeUrl: result.data.qrCodeUrl,
  noteId: result.data.noteId
})
```

### 是否需要我帮你完善？

如果你需要完整的发布功能，我可以：
1. 补全复刻页面的发布逻辑
2. 创建保存文章的 API
3. 集成小红书发布 API
4. 添加二维码显示界面

---

## 📊 图片准备检查清单

发布前请确认：

- [ ] 图片数量：1-18张
- [ ] 图片比例：统一使用一种（推荐3:4）
- [ ] 图片尺寸：1080×1440 或更高
- [ ] 图片格式：JPG 或 PNG
- [ ] 文件大小：每张 < 5MB
- [ ] 图片清晰：无模糊、无水印
- [ ] 命名规范：有序号、无特殊字符
- [ ] 内容合规：无违规信息

---

## 💡 实用建议

### 1. 封面图最重要

**封面图决定点击率**，建议：
- 使用最吸引人的照片作为封面
- 添加文字说明（在图片编辑软件中）
- 确保主体清晰、色彩鲜艳

### 2. 图片顺序有逻辑

**推荐的排列顺序**：
1. 封面（吸引点击）
2. 引言图（设定主题）
3. 主要内容图（3-6张）
4. 补充说明图（1-2张）
5. 总结/呼吁图（最后一张）

### 3. 统一视觉风格

**提升笔记质量**：
- 色调一致（同一套滤镜）
- 构图相似（横平竖直）
- 字体统一（如果加文字）

### 4. 压缩图片

**保持清晰的同时减小文件**：
- 使用工具：TinyPNG、Squoosh
- 目标：每张 1-3MB
- 避免：过度压缩导致失真

---

## 🔗 相关资源

- [小红书官方尺寸指南](https://www.canva.cn/sizes/little-red-book/)
- [小红书图片尺寸大全](https://www.ghxi.com/jc202308213.html)
- [2025社交媒体图片尺寸](https://www.70apps.com/blog/code/2025/01/22/Social_Media_Image_Size_2025.html)

---

## ❓ 常见问题

### Q1: 上传的图片比例不一致怎么办？
**A**: 小红书会自动添加白边统一比例，影响美观。建议提前在图片编辑工具中统一裁剪为 3:4。

### Q2: 为什么我的图片上传后很模糊？
**A**: 可能是：
1. 原图分辨率太低（< 1080×1440）
2. 压缩过度
3. 截图而非原图

**解决**：使用高清原图，推荐 1080×1440 以上。

### Q3: 可以使用 GIF 动图吗？
**A**: 小红书会将 GIF 转为静态图片。如需动图效果，使用 WEBP 格式（800×800）。

### Q4: 图片必须有序号命名吗？
**A**: 不是必须，但推荐。有序号的命名便于：
- 控制图片顺序
- 后期管理查找
- 团队协作

### Q5: 发布按钮显示"开发中"怎么办？
**A**: 目前复刻页面的发布功能还在开发中。你可以：
1. 在复刻页面编辑好内容
2. 复制文案，下载图片
3. 在小红书 App 手动发布

或者等我帮你完善发布功能。

---

**文档维护者**：Claude Code
**最后更新**：2026-02-06
**相关页面**：`/rewrite`（复刻页面）
