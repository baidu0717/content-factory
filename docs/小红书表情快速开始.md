# 小红书表情功能 - 快速开始

## 🎯 立即使用

只需 3 步，即可在复刻页面添加小红书官方表情功能！

### 步骤 1：导入组件

在 `app/rewrite/page.tsx` 文件顶部添加：

```tsx
import XHSEmojiTextEditor from '@/components/XHSEmojiTextEditor'
```

### 步骤 2：替换正文编辑框

找到原来的 `<textarea>` 标签（约第 1180 行），替换为：

```tsx
<XHSEmojiTextEditor
  value={editableContent}
  onChange={setEditableContent}
  placeholder="在这里编辑你的正文，可以添加小红书表情..."
  label="正文内容"
  rows={12}
  maxLength={1000}
  showEmojiButton={true}
  showStats={true}
/>
```

### 步骤 3：完成！

保存文件，刷新页面，现在你就可以在正文编辑区看到"🥔 小红书表情"按钮了！

## 📸 效果预览

### 编辑界面

```
┌───────────────────────────────────────────┐
│ 正文内容          🥔 3个表情  256 / 1000  │
├───────────────────────────────────────────┤
│ 这款面膜真的太好用了[笑哭R]               │
│ 用了一个月皮肤变好了很多[萌萌哒R]         │
│ 推荐大家试试[拿走R]                       │
│                                           │
│                      [🥔 小红书表情]       │
└───────────────────────────────────────────┘
```

### 表情选择器

点击"🥔 小红书表情"按钮后弹出：

```
┌───────────────────────────────────────────┐
│ 🥔 小红书官方表情                      ✕ │
├───────────────────────────────────────────┤
│ 🔥热门 😊表情 👋手势 🎯动作 🎁物品        │
├───────────────────────────────────────────┤
│  萌萌哒   暗中观察   笑哭   比心          │
│  点赞     吃瓜     冲鸭    加油           │
│  打卡     派对     拿走    赞             │
│  ...                                      │
└───────────────────────────────────────────┘
```

## 💡 使用示例

### 示例 1：美妆分享

**改写前**：
```
这款面膜真的很好用，用了一个月皮肤变好了很多，推荐大家试试。
```

**添加表情后**：
```
这款面膜真的很好用[笑哭R]用了一个月皮肤变好了很多[萌萌哒R]推荐大家试试[拿走R]
```

### 示例 2：旅行攻略

**改写前**：
```
这个小众景点人少景美还免费，周末约起来！
```

**添加表情后**：
```
这个小众景点人少景美还免费[派对R]周末约起来[冲鸭R]
```

### 示例 3：美食探店

**改写前**：
```
这家店真的绝了，每一道菜都好吃，记得收藏这份攻略。
```

**添加表情后**：
```
这家店真的绝了[笑哭R]每一道菜都好吃[赞R]记得收藏这份攻略[拿走R]
```

## 🎨 常用表情速查

### 热门推荐（12个）

| 表情代码 | 名称 | 使用场景 |
|---------|------|---------|
| `[萌萌哒R]` | 萌萌哒 | 可爱、萌物 |
| `[哈哈R]` | 哈哈 | 开心、搞笑 |
| `[笑哭R]` | 笑哭 | 太好笑了 |
| `[比心R]` | 比心 | 喜欢、爱 |
| `[点赞R]` | 点赞 | 好评、赞同 |
| `[吃瓜R]` | 吃瓜 | 围观、看热闹 |
| `[冲鸭R]` | 冲鸭 | 加油、努力 |
| `[加油R]` | 加油 | 鼓励 |
| `[打卡R]` | 打卡 | 签到、记录 |
| `[派对R]` | 派对 | 庆祝、开心 |
| `[暗中观察R]` | 暗中观察 | 偷看、观察 |
| `[拿走R]` | 拿走 | 收藏、保存 |

### 场景化推荐

#### 🎀 美妆护肤
```
[萌萌哒R] [笑哭R] [拿走R] [比心R] [派对R]
```

#### ✈️ 旅行攻略
```
[打卡R] [派对R] [暗中观察R] [冲鸭R] [炸裂R]
```

#### 🍔 美食探店
```
[吃瓜R] [笑哭R] [赞R] [拿走R] [好的R]
```

#### 🛍️ 好物分享
```
[火R] [赞R] [拿走R] [比心R] [冲鸭R]
```

## 🔧 可选配置

### 配置参数说明

```tsx
<XHSEmojiTextEditor
  value={content}           // 文本内容（必需）
  onChange={setContent}     // 变化回调（必需）
  placeholder="输入内容..."  // 占位提示（可选）
  label="正文内容"          // 标签（可选）
  rows={10}                 // 行数（可选，默认10）
  maxLength={1000}          // 最大长度（可选，默认1000）
  showEmojiButton={true}    // 显示表情按钮（可选，默认true）
  showStats={true}          // 显示统计信息（可选，默认true）
/>
```

### 隐藏表情按钮

如果只想显示纯文本编辑框：

```tsx
<XHSEmojiTextEditor
  value={content}
  onChange={setContent}
  showEmojiButton={false}  // 隐藏表情按钮
/>
```

### 隐藏统计信息

```tsx
<XHSEmojiTextEditor
  value={content}
  onChange={setContent}
  showStats={false}  // 隐藏统计信息
/>
```

## ❓ 常见问题

### Q1: 为什么表情显示为文本代码？

**A**: 这是正常的！小红书表情的特点是：
- 在**网页**中显示为文本代码：`[萌萌哒R]`
- 在**小红书 app** 中自动显示为表情图片

### Q2: 表情数量有限制吗？

**A**: 建议：
- 标题：0-2 个表情
- 正文：5-8 个表情（每段 1-2 个）
- 避免过度使用，影响阅读体验

### Q3: 可以自定义表情吗？

**A**: 可以！在 `lib/xiaohongshu-emojis.ts` 中添加新表情：

```typescript
{
  code: '[新表情R]',
  name: '新表情',
  pinyin: 'xinbiaoqing',
  category: 'expression',
  tags: ['标签']
}
```

### Q4: 表情在哪些位置效果最好？

**A**: 推荐位置：
1. **开头**：吸引注意 `[派对R]`
2. **重点句**：强调信息 `[笑哭R]`
3. **结尾**：行动号召 `[拿走R]` `[比心R]`

### Q5: 如何知道哪些表情最受欢迎？

**A**: 使用"🔥 热门"分类，里面是最常用的 12 个表情。

## 🚀 高级用法

### 1. 同时支持标题和正文

```tsx
// 标题编辑
<XHSEmojiTextEditor
  value={editableTitle}
  onChange={setEditableTitle}
  label="标题"
  rows={2}
  maxLength={50}
/>

// 正文编辑
<XHSEmojiTextEditor
  value={editableContent}
  onChange={setEditableContent}
  label="正文内容"
  rows={12}
  maxLength={1000}
/>
```

### 2. 编程式插入表情

```tsx
import { XHS_EMOJIS } from '@/lib/xiaohongshu-emojis'

// 在文本末尾添加表情
const addEmoji = () => {
  const emoji = XHS_EMOJIS.find(e => e.name === '萌萌哒')
  setContent(content + emoji.code)
}
```

### 3. 检测和提取表情

```tsx
import { hasXHSEmoji, extractEmojis } from '@/lib/xiaohongshu-emojis'

// 检查是否包含表情
if (hasXHSEmoji(content)) {
  console.log('包含小红书表情')
}

// 提取所有表情
const emojis = extractEmojis(content)
console.log('表情数量：', emojis.length)
```

## 📚 更多资源

- 📖 [完整集成方案](./小红书官方表情集成方案.md)
- 💻 [表情数据库源码](../lib/xiaohongshu-emojis.ts)
- 🎨 [组件源码](../components/XHSEmojiTextEditor.tsx)

## 💬 反馈和建议

如果你有任何问题或建议，欢迎：
- 查看完整文档了解更多功能
- 修改源码自定义样式和行为
- 添加更多小红书表情到数据库

---

**开始使用吧！让你的小红书笔记更生动有趣！** 🎉
